<!DOCTYPE html>
<html lang="en" dir="ltr">
  <%- include('partials/head', { extraCss: [ "/style/navbar.css",
  "/style/dropdown.css", "/style/main_menu.css", "/style/form_styles.css" ] })
  %>

  <body>
    <%- include('partials/navbar') %>
    <div class="login-container">
      <div class="login-form">
        <h2 style="color: #e50914">
          <% if (locals.isDuplicate) { %> Content Already Exists <% } else { %>
          Upload Failed <% } %>
        </h2>
                <% if (locals.isDuplicate) { %>
                <div
                    style="padding: 1rem; margin: 1rem 0;">
                    <h4
                        style="color: #ccc; margin: 0 0 0.5rem 0; text-align: center;">
                        <i style="color: #ccc;"></i> Content Found!
                    </h4>
                    <p style="color: #ccc; margin: 0; text-align: center;">
                        <%= message %>
                    </p>
                </div>
                <% } else { %>
                <p style="text-align: center; color: #ccc; margin-top: 1rem;">
                    <% if (locals.message) { %>
                    <%= message %>
                    <% } else { %>
                    Something went wrong while uploading your content.<br />
                    Please check your inputs or try again later.
                    <% } %>
                </p>
                <% } %>

                <% if (locals.isDuplicate) { %>
                <p
                    style="text-align: center; color: #ccc; margin-top: 1rem; font-size: 0.9rem;">
                    This content already exists.<br>
                    Click "Edit Existing Content" below to modify it directly.
                </p>
                <% } %>

                <div
                    style="display: flex; flex-direction: column; gap: 1rem; margin-top: 2rem;">
                    <% if (locals.isDuplicate) { %>
                    <a href="/admin/edit/<%= locals.existingContentId %>"
                        class="btn-primary"
                        style="background: #e50914; padding: 1.2rem; text-align: center; font-weight: bold; font-size: 1.2rem; border-radius: 8px; text-decoration: none; display: block; color: white; box-shadow: 0 4px 12px rgba(229, 9, 20, 0.3); transition: all 0.3s ease;">
                        Edit This Content Now </a>
                    <a href="/admin/add-content" class="btn-secondary">Add
                        Different Content</a>
                    <a href="/feed" class="btn-secondary">Back to Feed</a>
                    <% } else { %>
                    <a href="/admin/add-content" class="btn-primary">Try
                        Again</a>
                    <a href="/feed" class="btn-secondary">Back to Feed</a>
                    <% } %>
                </div>
            </div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/scripts/utils.js"></script>
    <script src="/scripts/init.js"></script>
    <script src="/scripts/admin_init.js"></script>
  </body>
</html>
