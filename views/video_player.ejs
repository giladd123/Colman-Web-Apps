<!DOCTYPE html>
<html lang="en">
<%- include('partials/head', { extraCss: [
    "/style/video_player.css",
    "https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
  ]
}) %>
<body>

  <div id="player-container" class="player-container">

    <a id="custom-back-button" href="#" class="btn btn-light back-button">
    <i class="bi bi-arrow-left"></i> Back
    </a>

    <div id="player-loading" class="player-loading-container">
      <div class="spinner-border text-light" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>

    <video id="video-player" class="video-player-element" style="display:none;" playsinline>
      Your browser does not support the video tag.
    </video>

    <div id="custom-controls" class="custom-controls-container">
      
      <div class="progress-bar-container">
        <input id="progress-bar" type="range" min="0" max="100" value="0" step="0.1">
      </div>

      <div class="controls-row">
        
        <div class="controls-left">
          <button id="play-pause-btn" class="control-btn"><i class="bi bi-play-fill"></i></button>
          <button id="skip-backward-btn" class="control-btn"><i class="bi bi-rewind-fill"></i></button>
          <button id="skip-forward-btn" class="control-btn"><i class="bi bi-fast-forward-fill"></i></button>



          <span id="time-display" class="time-display">0:00 / 0:00</span>
        </div>

        <div class="controls-right">
          <button id="next-episode-btn" class="control-btn" style="display: none;">
            <i class="bi bi-skip-end-fill"></i>
          </button>
          <button id="episodes-btn" class="control-btn" style="display: none;"
                  data-bs-toggle="offcanvas" data-bs-target="#episodeDrawer" aria-controls="episodeDrawer">
            <i class="bi bi-collection-play-fill"></i>
          </button>
          <button id="fullscreen-btn" class="control-btn"><i class="bi bi-fullscreen"></i></button>
        </div>

      </div>
    </div>

    <div class="offcanvas offcanvas-end bg-dark text-white" tabindex="-1" id="episodeDrawer" aria-labelledby="episodeDrawerLabel">
    <div class="offcanvas-header border-bottom border-secondary">
      <h5 class="offcanvas-title" id="episodeDrawerLabel">Episodes</h5>
      <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body" id="episode-drawer-content">
      </div>
  </div>

  </div> 
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/scripts/utils.js"></script>
  <script src="/scripts/player_page.js"></script>
</body>
</html>