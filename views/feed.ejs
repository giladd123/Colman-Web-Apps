<!DOCTYPE html>
<html lang="en">
  <%- include('partials/head', { extraCss: [ "/style/main_menu.css",
  "/style/like_button.css", "/style/navbar.css", "/style/dropdown.css",
  "/style/content.css", "/style/watchlist.css",
  "https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
  ] }) %>

  <body>
    <%- include('partials/navbar', { activeNav: 'home' }) %>

    <div id="loading" class="text-center py-4" style="display: none">
      <div class="spinner-border text-danger" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="text-white mt-2 mb-0">Loading...</p>
    </div>

    <div id="content" class="container py-4"></div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      async function fetchMoviesFromDB() {
        try {
          const response = await fetch("/content");
          if (!response.ok) throw new Error("Failed to fetch content");
          const data = await response.json();
          console.log("Fetched movies:", data);
          return data;
        } catch (err) {
          console.error("Error fetching movies:", err);
          alert("Failed to load content.");
          throw err;
        }
      }
    </script>
    <script src="/scripts/utils.js"></script>
    <script src="/scripts/likes_manager.js"></script>
    <script src="/scripts/watchlist_manager.js"></script>
    <script src="/scripts/card_renderer.js"></script>
    <script src="/scripts/row_renderer.js"></script>
    <script src="/scripts/content_renderer.js"></script>
    <script src="/scripts/search.js"></script>
    <script src="/scripts/init.js"></script>
    <script src="/scripts/feedRenderer.js"></script>
  </body>
</html>
